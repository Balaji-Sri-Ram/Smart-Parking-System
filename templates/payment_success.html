<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Payment Success - ParkSavvy Ticket</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-gradient-to-br from-slate-800 to-sky-700 min-h-screen text-white p-6">

  <!-- Back to Dashboard Button -->
  <div class="absolute top-10 right-38">
    <a href="{{ url_for('dashboard') }}"
      class="px-5 py-2 bg-sky-600 text-white rounded-md font-medium shadow hover:bg-sky-700">
      ‚Üê Back to Dashboard
    </a>
  </div>
  <div class="max-w-3xl mx-auto relative bg-white bg-opacity-5 rounded-2xl shadow-2xl p-6 mt-15">

    <h1 class="text-3xl font-bold text-center text-black mb-6">Your Slot Is Booked Successfully üéâ</h1>
    <div class="flex flex-col md:flex-row items-start gap-6">

      <!-- Ticket QR Box -->
      <div class="bg-white rounded-lg p-4 text-slate-900 shadow-lg">
        <h2 class="font-semibold text-xl mb-2">Your Ticket</h2>
        <img src="{{ qr_url }}" alt="QR Code" class="w-48 h-48 object-contain mx-auto" />
        <p class="mt-4"><strong>Booking ID:</strong> {{ booking._id }}</p>
        <p><strong>Date:</strong> {{ booking.get('date','-') }}
          <strong>Time:</strong> {{ current_time }}
        </p>
        <div class="flex gap-3 mt-2">
          <a href="{{ ticket_url }}" class="px-4 py-2 bg-sky-600 text-white rounded-lg shadow hover:bg-sky-500">
            Download PDF
          </a>
          <a href="{{ url_for('see_details') }}"
            class="px-4 py-2 bg-slate-700 text-white rounded-lg shadow hover:bg-slate-600">
            View All Bookings
          </a>
        </div>
      </div>

      <!-- Booking Details Box -->
      <div class="flex-1 bg-white text-slate-900 bg-white shadow-lg rounded-lg p-4">
        <h3 class="text-xl font-semibold mb-3">Booking Details</h3>
        <div class="space-y-2">
          <div><strong>User:</strong> {{ booking.username }}</div>
          <div><strong>Vehicle:</strong> {{ booking.plate_number }}</div>
          <div><strong>Vehicle Type:</strong> {{ booking.vehicle_type }}</div>
          <div><strong>Price:</strong> ‚Çπ{{ booking.get('price', '100') }} /-</div>
          <div><strong>Transaction ID:</strong> {{ booking.transaction_id }}</div>
          <div><strong>Date:</strong> {{ booking.date }}</div>
          <div><strong>Time:</strong> {{ booking.start_time.split(' ')[1] }} - {{ booking.end_time.split(' ')[1] }}</div>
          <div><strong>Parking Preference:</strong> {{ booking.parking_type }}</div>
          <div><strong>Payment Status:</strong> <span class="text-green-600 font-bold">Yes</span></div>
        </div>
      </div>

    </div>
  </div>
</body>

</html>